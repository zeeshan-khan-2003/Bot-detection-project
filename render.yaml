services:
  - type: web
    name: ddos-dashboard
    env: python
    plan: free
    buildCommand: "pip install -r requirements.txt && python generate_training_data.py && python train_model.py"
    startCommand: "gunicorn app:app"
    envVars:
      - key: PYTHON_VERSION
        value: 3.10.6
      - key: SECRET_KEY
        value: 318ec35cb52d3f46dc2c9076c7f023590619659f9eab511eb7e19c011c13e31e
  - type: web
    name: real-website
    env: python
    plan: free
    buildCommand: "pip install -r requirements.txt"
    startCommand: "gunicorn real_website.real_website:app"
    envVars:
      - key: PYTHON_VERSION
        value: 3.10.6
      - key: DASHBOARD_URL
        value: http://ddos-dashboard:10000/log
